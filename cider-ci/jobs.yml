'deploy_test8':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to test8
  run-on:
  - type: branch
    include-match: ^master$
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "test8.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/test8

'deploy_test8_with-db-drop':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to test8 with drop-database
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "test8.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/test8
          DROP_DATABASE: 'true'

###############################################################################


'deploy_test':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to test
  run-on:
  - type: branch
    include-match: ^master$
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "test.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/test

'deploy_test_with-restore-data':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to test with restore-data
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "test.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/test
          RESTORE_DATA: 'true'

###############################################################################

'deploy_staging-v3-pdata':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to staging-v3-pdata
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "staging-v3-pdata.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/staging-v3-pdata

'deploy_staging-v3-pdata_with-restore-data':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to staging-v3-pdata with restore-data
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "staging-v3-pdata.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/staging-v3-pdata
          RESTORE_DATA: 'true'

###############################################################################

'deploy_staging-v3-upload':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to staging-v3-upload
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "staging-v3-upload.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/staging-v3-upload

'deploy_staging-v3-upload_with-db-drop':
  _cider-ci_include: cider-ci/shared/deploy-job-defaults.yml
  name: Deploy to staging-v3-upload with drop-database
  context:
    tasks:
      deploy:
        exclusive-global-resources:
          "staging-v3-upload.madek.zhdk.ch": true
        environment-variables:
          HOSTS_FILE: inventories/zhdk/staging-v3-upload
          DROP_DATABASE: 'true'
